<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BLACKJ Trainer</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <main id="app" class="app">
    <div class="header">
      <h1>BLACKJ Trainer</h1>
      <div class="badge">Ultra-Low-Latency</div>
    </div>
    <div class="rule-strip">
      6D • Dealer hits soft 17 • Blackjack 3:2 • Double after split • One split max • Split Aces one card • Insurance allowed • No surrender
    </div>

    <section class="topline">
      <div class="panel count-block" data-role="rc">
        <div class="label">RC</div>
        <div id="rcVal" class="value">0</div>
      </div>
      <div class="panel count-block" data-role="tc">
        <div class="label">TC</div>
        <div class="tc-wrap">
          <div id="tcVal" class="value tc">0</div>
          <div id="bandBadge" class="band">NEUTRAL</div>
          <div id="edgeVal" class="edge-pill">-0.50%</div>
          <button id="edgeToggle" class="icon-btn" type="button" aria-label="Toggle edge/bet display">◎</button>
        </div>
      </div>
      <div class="panel action-block">
        <div class="label">Action</div>
        <div id="actionVal" class="action-text">—</div>
        <div class="bet-line">Bet: <span id="betVal" class="bet-pill">—</span></div>
      </div>
    </section>

    <section class="guide panel">
      <div class="label">Move Guide</div>
      <div id="guideLine" class="guide-line">Waiting for cards…</div>
    </section>

    <section id="grid" class="grid">
      <div class="card-target panel">
        <div class="sub-label">Target</div>
        <div id="targetVal" class="pill">TABLE</div>
      </div>
      <div class="card-lists panel">
        <div class="sub-label">Player</div>
        <div id="playerCards" class="cards"></div>
      </div>
      <div class="card-lists panel">
        <div class="sub-label">Dealer</div>
        <div id="dealerCards" class="cards"></div>
      </div>
      <div class="meta panel">
        <div class="sub-label">Decks Seen</div>
        <div id="decksSeenVal" class="mono">0.00</div>
      </div>
      <div class="meta panel">
        <div class="sub-label">Cards Dealt</div>
        <div id="cardsDealtVal" class="mono">0</div>
      </div>
    </section>

    <section id="controls" class="controls">
      <button id="noiseBtn" type="button" class="control">Noise (N)</button>
      <button id="hardcoreBtn" type="button" class="control">Hardcore (M)</button>
      <button id="perfBtn" type="button" class="control">Perf (F)</button>
      <button id="overlayBtn" type="button" class="control">Overlay (O)</button>
      <button id="nextHandBtn" type="button" class="control">Next Hand (Enter)</button>
      <button id="resetBtn" type="button" class="control">Reset (X)</button>
    </section>

    <section class="pad panel">
      <div class="pad-row targets">
        <span class="label">Target</span>
        <div class="target-buttons">
          <button class="chip-btn" data-target="player" id="btnPlayer">Player (P)</button>
          <button class="chip-btn" data-target="dealer" id="btnDealer">Dealer (D)</button>
          <button class="chip-btn" data-target="table" id="btnTable">Table (B)</button>
        </div>
      </div>
      <div class="pad-row cards">
        <span class="label">Add Card</span>
        <div class="card-buttons">
          <button class="chip-btn" data-rank="2">2</button>
          <button class="chip-btn" data-rank="3">3</button>
          <button class="chip-btn" data-rank="4">4</button>
          <button class="chip-btn" data-rank="5">5</button>
          <button class="chip-btn" data-rank="6">6</button>
          <button class="chip-btn" data-rank="7">7</button>
          <button class="chip-btn" data-rank="8">8</button>
          <button class="chip-btn" data-rank="9">9</button>
          <button class="chip-btn" data-rank="10">T</button>
          <button class="chip-btn" data-rank="A">A</button>
        </div>
      </div>
    </section>

    <section id="hints" class="hints">
      <div class="hint"><span class="mono">2-9, T/J/Q/K, A</span> add card to active target</div>
      <div class="hint"><span class="mono">P</span> player, <span class="mono">D</span> dealer, <span class="mono">B</span> table</div>
      <div class="hint"><span class="mono">Backspace</span> undo • <span class="mono">Enter</span> next hand • <span class="mono">X</span> reset • <span class="mono">O</span> overlay • <span class="mono">E</span> edge/bet</div>
    </section>

    <section id="overlay" class="overlay hidden">
      <div class="overlay-content">
        <h2>Quick Ref</h2>
        <div class="ref-grid">
          <div>
            <div class="ref-title">Controls</div>
            <ul class="ref-list">
              <li>Digits / T J Q K / A → add to target</li>
              <li>P / D / B → switch target</li>
              <li>N noise · M hardcore · O overlay</li>
              <li>Backspace undo · X reset · F perf HUD · E edge/bet</li>
              <li>Edge/Bet auto: logistic EV + quarter Kelly</li>
            </ul>
          </div>
          <div>
            <div class="ref-title">Live 6D Rules</div>
            <ul class="ref-list">
              <li>3:2 blackjack · dealer hits soft 17</li>
              <li>Double after split; one split; split Aces 1 card</li>
              <li>Insurance allowed at dealer Ace</li>
              <li>Pairs side bet pays 11:1 on any pair</li>
              <li>Rummy side bet pays 9:1 on suited/ranked/straight 3-card combo (2 player + dealer up)</li>
            </ul>
          </div>
          <div>
            <div class="ref-title">Practice Drills</div>
            <ul class="ref-list">
              <li>Single-card: flip & call +1/0/–1 instantly</li>
              <li>Running count: burn a deck, finish at 0</li>
              <li>Deck est.: eyeball discard tray → decks remaining</li>
              <li>Noise: train with distractions (TV/audio)</li>
            </ul>
          </div>
        </div>
      </div>
    </section>
  </main>
  <div id="toast" class="toast hidden"></div>
  <div id="perfHud" class="perf hidden">
    <div class="perf-line" id="perfFps">fps —</div>
    <div class="perf-line" id="perfFrames">frames —</div>
  </div>
  <script src="engine.js"></script>
  <script src="app.js"></script>
</body>
</html>
